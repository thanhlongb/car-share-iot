{% extends "base.html" %}
{% block content %}
<div class="form-group justify-content-between">
  <h1 class="d-inline">Bookings</h1> 
</div>
<div class="form-group">
  <div class="input-group mb-3">
    <div class="input-group-prepend">
      <span class="input-group-text">Search:</span>
    </div>
    <input type="text" class="form-control" id="search-text" aria-label="Enter your query here..." placeholder="Enter your query here...">
  </div>
</div>
<table class="table table-hover" style="width:100%">
  <thead>
    <tr class="table-secondary">
      <th>ID</th>
      <th>Car</th>
      <th>Customer</th>
      <th>Duration</th>
      <th>Time</th>
    </tr>
  </thead>
  <tbody id="search-table">
    {% for booking in bookings %}
        <tr id="row{{ booking.id }}">
            <td>{{ booking.id }}</td>
            <td>{{ booking.car.make }}</td>
            <td>{{ booking.user.username }}</td>
            <td>{{ booking.duration }}</td>
            <td class="timeago" datetime="{{ booking.actions[0].creation_time }}"></td>
          </tr>
    {% endfor %}
  </tbody>
  </table>
{% endblock %}
{% block script %}
{{ super() }}
<script src="{{ url_for('static', filename='js/admin/table-search.js') }}" type="text/javascript"></script>
<script src="{{ url_for('static', filename='js/timeago.min.js') }}" type="text/javascript"></script>
<script>
  timeago().render(document.querySelectorAll('.timeago'));
</script>
{% endblock %}